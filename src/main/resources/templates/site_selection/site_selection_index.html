<!DOCTYPE html>
    <html xmlns:th="http://www.thymeleaf.org">
        <meta charset="UTF-8"/>
        <title>Thymeleaf</title>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
        <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="../static/semantic/out/semantic.js" th:src="@{/semantic/out/semantic.js}"></script>

        <link rel="stylesheet" href="../static/css/site_selection.css" th:href="@{/css/site_selection.css}"/>
        <link rel="stylesheet" type="text/css" href="../static/semantic/out/semantic.css" th:href="@{/semantic/out/semantic.css}" />
        <script type="text/javascript" src="https://webapi.amap.com/maps?v=1.4.14&key=e70e70fc0c617d13aa771071fa154138"></script>

        </head>
    <body>
        <div class="ui container">
            <div class="ui large icon input">
                <input name="searchAddress" type="text" placeholder="请输入您的位置">
                <i class="link search icon"  onclick="$(this).getEvaluationRadarResult()"></i>
            </div>
        </div>
        <div class="picture-content ui container">
            <div class="ui stackable equal width grid">
                <div th:insert="site_selection/fragments/auto_navi_map :: map" class="ten wide column"></div>
                <div class="six wide column">
                    <canvas id="siteSelectionResult"></canvas>
                </div>
            </div>
        </div>
        <div class="evaluation-content ui container">
            <div class="ui top attached tabular menu">
                <a class="item active" data-tab="first">交通状况</a>
                <a class="item" data-tab="second">竞业状况</a>
                <a class="item" data-tab="third">异业状况</a>
            </div>
            <div th:insert="site_selection/fragments/tab_info :: traffic (trafficEvaluation=${radar_result.trafficEvaluation})" class="ui bottom attached tab segment active" data-tab="first">
            </div>
            <div th:insert="site_selection/fragments/tab_info :: competition (competitorEvaluation=${radar_result.competitorEvaluation})" class="ui bottom attached tab segment" data-tab="second">
            </div>
            <div th:insert="site_selection/fragments/tab_info :: coorperation (cooperatorEvaluation=${radar_result.cooperatorEvaluation})" class="ui bottom attached tab segment" data-tab="third">
            </div>
        </div>

    </body>
        <script th:inline="javascript">
            window.onload = function () {
                var map = new AMap.Map('auto_navi_map');
            }
        </script>
        <script rel="script" th:src="@{/js/site_selection.js}"></script>

        <script th:inline="javascript">
        let reponseFromServer = [[${radar_result}]];
        if (reponseFromServer != null) {
            let radar_result = [reponseFromServer.radarData];
            $(this).drawRadar(radar_result);
        }
    </script>
</html>

